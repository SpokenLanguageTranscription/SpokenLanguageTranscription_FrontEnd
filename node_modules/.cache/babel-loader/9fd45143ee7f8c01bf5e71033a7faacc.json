{"ast":null,"code":"var _jsxFileName = \"D:\\\\setup\\\\Test_reactJS\\\\SpokenLanguageTranscription_FrontEnd\\\\src\\\\Composants\\\\Speech.js\";\nimport React, { Component, useState } from \"react\";\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input, FormText, Table } from 'reactstrap';\nimport Alert from 'react-bootstrap/Alert';\nimport NotificationAlert from 'react-notification-alert';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"react-notification-alert/dist/animate.css\";\nimport { Container, Row, Col } from 'reactstrap';\nimport \"../App.css\";\nimport API from \"../Composants/API\";\nimport { ButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { FaMicrophoneAlt, FaMicrophoneAltSla } from 'react-icons/fa'; //------------------------SPEECH RECOGNITION-----------------------------\n\n/* const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition\r\nconst recognition = new SpeechRecognition()\r\n\r\nrecognition.continous = true\r\nrecognition.interimResults = true\r\nrecognition.lang = 'fr-FR'*/\n//------------------------COMPONENT-----------------------------\n\nconst ParticipationForm = props => {\n  const {\n    className,\n    onChangeParticipantIdReunion,\n    ParticipantIDReunion,\n    onChangeParticipantName,\n    participantName,\n    send,\n    prev\n  } = props;\n  const [modal, setModal] = useState(true);\n\n  const toggle = () => setModal(!modal);\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(Modal, {\n    isOpen: modal,\n    className: className,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(ModalHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Formulaire de Participation \\xE0 une r\\xE9union\"), React.createElement(ModalBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(Form, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(Label, {\n    for: \"idReunion\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"ID R\\xE9union\"), React.createElement(Input, {\n    type: \"text\",\n    name: \"idReunion\",\n    id: \"idReunion\",\n    placeholder: \"A23AZE\",\n    value: ParticipantIDReunion,\n    onChange: onChangeParticipantIdReunion,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  })), React.createElement(FormGroup, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(Label, {\n    for: \"Sujet\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Votre Nom\"), React.createElement(Input, {\n    type: \"text\",\n    name: \"sujet\",\n    id: \"Sujet\",\n    placeholder: \"Votre Nom\",\n    value: participantName,\n    onChange: onChangeParticipantName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }))))), React.createElement(ModalFooter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(Button, {\n    color: \"primary\",\n    onClick: send,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Enregistrer\"), ' ', React.createElement(Button, {\n    color: \"secondary\",\n    onClick: prev,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Cancel\"))));\n};\n\nlet x = localStorage.getItem('ParticipantIDReunion');\nexport default class Speech extends Component {\n  constructor() {\n    super();\n\n    this.send = e => {\n      localStorage.setItem(\"ParticipantIDReunion\", this.state.ParticipantIDReunion);\n      localStorage.setItem(\"ParticipantName\", this.state.participantName);\n      console.log('voici', localStorage.getItem(\"ParticipantIDReunion\"));\n      console.log('voici', localStorage.getItem(\"ParticipantName\"));\n      window.location = \"/Speech\";\n      return;\n    };\n\n    this.prev = e => window.location = \"/\";\n\n    this.affiche = e => {\n      console.log('voici', localStorage.getItem(\"ParticipantIDReunion\"));\n      console.log('voici', localStorage.getItem(\"ParticipantName\"));\n      return;\n    };\n\n    this.state = {\n      listening: false,\n      participantName: \"\",\n      ParticipantIDReunion: \"\",\n      //x : localStorage.getItem('ParticipantIDReunion'),\n      test: true\n    };\n    this.toggleListen = this.toggleListen.bind(this);\n    this.handleListen = this.handleListen.bind(this);\n    this.onChangeParticipantName = this.onChangeParticipantName.bind(this);\n    this.onChangeParticipantIdReunion = this.onChangeParticipantIdReunion.bind(this);\n    this.onChangeTest = this.onChangeTest.bind(this);\n    this.send = this.send.bind(this);\n    this.prev = this.prev.bind(this);\n    this.affiche = this.affiche(this);\n  }\n\n  toggleListen() {\n    this.setState({\n      listening: !this.state.listening\n    }, this.handleListen);\n  }\n\n  onChangeParticipantName(e) {\n    this.setState({\n      participantName: e.target.value\n    });\n  }\n\n  onChangeParticipantIdReunion(e) {\n    this.setState({\n      ParticipantIDReunion: e.target.value\n    });\n  }\n\n  onChangeTest(e) {\n    this.setState({\n      test: e.target.value\n    });\n  }\n\n  handleListen() {\n    //const SpeechRecognition = window.webkitSpeechRecognition\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    const recognition = new SpeechRecognition();\n    recognition.continous = true;\n    recognition.interimResults = true;\n    recognition.lang = 'fr-FR';\n    console.log('listening?', this.state.listening);\n\n    if (this.state.listening) {\n      recognition.start();\n\n      recognition.onend = () => {\n        console.log(\"...continue listening...\");\n        recognition.start();\n      };\n    } else {\n      recognition.stop();\n\n      recognition.onend = () => {\n        console.log(\"Stopped listening per click\");\n      };\n    }\n\n    recognition.onstart = () => {\n      console.log(\"Listening!\");\n    };\n\n    let finalTranscript = '';\n\n    recognition.onresult = event => {\n      let interimTranscript = '';\n\n      for (let i = event.resultIndex; i < event.results.length; i++) {\n        const transcript = event.results[i][0].transcript;\n        if (event.results[i].isFinal) finalTranscript += transcript + ' ';else interimTranscript += transcript;\n      }\n\n      document.getElementById('interim').innerHTML = interimTranscript;\n      document.getElementById('final').innerHTML = finalTranscript; //*************Resultat******************* */\n\n      if (interimTranscript === 'suivant') {\n        console.log(finalTranscript);\n        document.getElementById('resultat').innerHTML = \"Bravo\";\n      } //-------------------------COMMANDS------------------------------------\n\n\n      const transcriptArr = finalTranscript.split(' ');\n      const stopCmd = transcriptArr.slice(-3, -1);\n      console.log('stopCmd', stopCmd);\n\n      if (stopCmd[0] === 'stop' && stopCmd[1] === 'stop') {\n        recognition.stop();\n\n        recognition.onend = () => {\n          console.log('Stopped listening per command');\n          const finalText = transcriptArr.slice(0, -3).join(' ');\n          document.getElementById('final').innerHTML = finalText; //document.getElementById('resultat').innerHTML = finalText \n        };\n      }\n    }; //-----------------------------------------------------------------------\n\n\n    recognition.onerror = event => {\n      console.log(\"Error occurred in recognition: \" + event.error);\n    };\n  }\n\n  render() {\n    if (localStorage.getItem('ParticipantIDReunion') === null || localStorage.getItem('ParticipantName') === null) {\n      console.log('voici', localStorage.getItem(\"ParticipantName\"));\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(ParticipationForm, {\n        onChangeParticipantIdReunion: this.onChangeParticipantIdReunion,\n        ParticipantIDReunion: this.state.ParticipantIDReunion,\n        onChangeParticipantName: this.onChangeParticipantName,\n        participantName: this.state.participantName,\n        send: this.send,\n        prev: this.prev,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"LoginBack\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        id: \"microphone-btn\",\n        style: button,\n        onClick: this.toggleListen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \"Micro \"), React.createElement(\"div\", {\n        id: \"interim\",\n        style: interim,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"final\",\n        style: final,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"resultat\",\n        style: resultat,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }))))\n      /* <div>\r\n      <Form center>\r\n      <FormGroup>\r\n          <Label for=\"idReunion\">Texte en cours</Label>\r\n          <Input type=\"text\" name=\"\" id=\"interim\" placeholder=\"A23AZE\" value=\"\"\r\n                  />\r\n      </FormGroup>\r\n      <FormGroup>\r\n          <Label for=\"Sujet\">Votre Texte</Label>\r\n          <Input type=\"text\" name=\"\" id=\"final\" placeholder=\"Votre Texte\" value=\"\"\r\n                  />\r\n      </FormGroup>\r\n      <FormGroup>\r\n          <Label for=\"Sujet\">Le résultat</Label>\r\n          <Input type=\"text\" name=\"\" id=\"resultat\" placeholder=\"Votre Texte\" value=\"\"\r\n                  />\r\n      </FormGroup>\r\n      </Form>\r\n      </div>\r\n      </div> */\n      ;\n    } else {\n      return React.createElement(\"div\", {\n        class: \"LoginBack\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        id: \"microphone-btn\",\n        style: button,\n        onClick: this.toggleListen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(FaMicrophoneAlt, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }), \" \"), React.createElement(\"button\", {\n        id: \"microphone-btn\",\n        style: button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(FaMicrophoneAltSla, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }), \" \"), React.createElement(\"div\", {\n        id: \"interim\",\n        style: interim,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"final\",\n        style: final,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"resultat\",\n        style: resultat,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      })));\n    }\n  }\n\n} //-------------------------CSS------------------------------------\n\nconst styles = {\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    textAlign: 'center'\n  },\n  button: {\n    width: '60px',\n    height: '60px',\n    background: 'lightblue',\n    borderRadius: '50%',\n    margin: '6em 0 2em 0'\n  },\n  interim: {\n    color: 'gray',\n    border: '#ccc 1px solid',\n    padding: '1em',\n    margin: '1em',\n    width: '300px'\n  },\n  final: {\n    color: 'black',\n    border: '#ccc 1px solid',\n    padding: '1em',\n    margin: '1em',\n    width: '300px'\n  },\n  resultat: {\n    color: 'black',\n    border: '#ccc 1px solid',\n    padding: '1em',\n    margin: '1em',\n    width: '300px'\n  }\n};\nconst {\n  container,\n  button,\n  interim,\n  final,\n  resultat\n} = styles;","map":{"version":3,"sources":["D:/setup/Test_reactJS/SpokenLanguageTranscription_FrontEnd/src/Composants/Speech.js"],"names":["React","Component","useState","Button","Modal","ModalHeader","ModalBody","ModalFooter","Form","FormGroup","Label","Input","FormText","Table","Alert","NotificationAlert","Container","Row","Col","API","ButtonDropdown","DropdownToggle","DropdownMenu","DropdownItem","FaMicrophoneAlt","FaMicrophoneAltSla","ParticipationForm","props","className","onChangeParticipantIdReunion","ParticipantIDReunion","onChangeParticipantName","participantName","send","prev","modal","setModal","toggle","x","localStorage","getItem","Speech","constructor","e","setItem","state","console","log","window","location","affiche","listening","test","toggleListen","bind","handleListen","onChangeTest","setState","target","value","SpeechRecognition","webkitSpeechRecognition","recognition","continous","interimResults","lang","start","onend","stop","onstart","finalTranscript","onresult","event","interimTranscript","i","resultIndex","results","length","transcript","isFinal","document","getElementById","innerHTML","transcriptArr","split","stopCmd","slice","finalText","join","onerror","error","render","container","button","interim","final","resultat","styles","display","flexDirection","alignItems","textAlign","width","height","background","borderRadius","margin","color","border","padding"],"mappings":"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","sourcesContent":["import React, { Component,useState } from \"react\";\r\nimport {Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input, FormText,Table} from 'reactstrap';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport NotificationAlert from 'react-notification-alert';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"react-notification-alert/dist/animate.css\";\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport \"../App.css\";\r\nimport API from \"../Composants/API\";\r\nimport { ButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\r\nimport {FaMicrophoneAlt, FaMicrophoneAltSla} from 'react-icons/fa'\r\n\r\n//------------------------SPEECH RECOGNITION-----------------------------\r\n\r\n/* const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition\r\nconst recognition = new SpeechRecognition()\r\n\r\nrecognition.continous = true\r\nrecognition.interimResults = true\r\nrecognition.lang = 'fr-FR'*/\r\n\r\n\r\n//------------------------COMPONENT-----------------------------\r\n\r\nconst ParticipationForm = (props) => {\r\n  const {\r\n      className,onChangeParticipantIdReunion,ParticipantIDReunion,onChangeParticipantName,participantName,send, prev\r\n  } = props;\r\n\r\n  const [modal, setModal] = useState(true);\r\n\r\n  const toggle = () => setModal(!modal);\r\n\r\n  return (\r\n      <div>\r\n          <Modal isOpen={modal} className={className}>\r\n              <ModalHeader>Formulaire de Participation à une réunion</ModalHeader>\r\n              <ModalBody>\r\n                  <div>\r\n                      <Form>\r\n                          <FormGroup>\r\n                              <Label for=\"idReunion\">ID Réunion</Label>\r\n                              <Input type=\"text\" name=\"idReunion\" id=\"idReunion\" placeholder=\"A23AZE\" value={ParticipantIDReunion}\r\n                                     onChange={onChangeParticipantIdReunion} />\r\n                          </FormGroup>\r\n                          <FormGroup>\r\n                              <Label for=\"Sujet\">Votre Nom</Label>\r\n                              <Input type=\"text\" name=\"sujet\" id=\"Sujet\" placeholder=\"Votre Nom\" value={participantName}\r\n                                     onChange={onChangeParticipantName} />\r\n                          </FormGroup>\r\n                      </Form></div>\r\n              </ModalBody>\r\n              <ModalFooter>\r\n                  <Button color=\"primary\" onClick={send}>Enregistrer</Button>{' '}\r\n                  <Button color=\"secondary\" onClick={prev}>Cancel</Button>\r\n              </ModalFooter>\r\n          </Modal>\r\n      </div>\r\n  );\r\n}\r\n\r\nlet x = localStorage.getItem('ParticipantIDReunion')\r\nexport default class Speech extends Component {\r\n\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      listening: false,\r\n      participantName :\"\",\r\n      ParticipantIDReunion:\"\",\r\n      //x : localStorage.getItem('ParticipantIDReunion'),\r\n      test : true\r\n    }\r\n    this.toggleListen = this.toggleListen.bind(this)\r\n    this.handleListen = this.handleListen.bind(this)\r\n    this.onChangeParticipantName = this.onChangeParticipantName.bind(this)\r\n    this.onChangeParticipantIdReunion = this.onChangeParticipantIdReunion.bind(this)\r\n    this.onChangeTest = this.onChangeTest.bind(this)\r\n    this.send = this.send.bind(this)\r\n    this.prev = this.prev.bind(this)\r\n    this.affiche = this.affiche(this)\r\n  }\r\n\r\n  toggleListen() {\r\n    this.setState({\r\n      listening: !this.state.listening\r\n    }, this.handleListen)\r\n  }\r\n\r\n  onChangeParticipantName (e) {\r\n    this.setState({\r\n        participantName: e.target.value\r\n    })\r\n}\r\n  onChangeParticipantIdReunion (e) {\r\n    this.setState({\r\n        ParticipantIDReunion: e.target.value\r\n    })\r\n  }\r\n\r\n  onChangeTest (e) {\r\n    this.setState({\r\n        test: e.target.value\r\n    })\r\n  }\r\n\r\n  handleListen() { \r\n\r\n    //const SpeechRecognition = window.webkitSpeechRecognition\r\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition\r\n    const recognition = new SpeechRecognition()\r\n    \r\n    recognition.continous = true\r\n    recognition.interimResults = true\r\n    recognition.lang = 'fr-FR'\r\n\r\n    console.log('listening?', this.state.listening)\r\n\r\n    if (this.state.listening) {\r\n      \r\n      recognition.start()\r\n      recognition.onend = () => {\r\n        console.log(\"...continue listening...\")\r\n        recognition.start()\r\n      }\r\n\r\n    } else {\r\n      recognition.stop()\r\n      recognition.onend = () => {\r\n        console.log(\"Stopped listening per click\")\r\n      }\r\n    }\r\n\r\n    recognition.onstart = () => {\r\n      console.log(\"Listening!\")\r\n    }\r\n\r\n    let finalTranscript = ''\r\n    recognition.onresult = event => {\r\n      let interimTranscript = ''\r\n\r\n      for (let i = event.resultIndex; i < event.results.length; i++) {\r\n        const transcript = event.results[i][0].transcript;\r\n        if (event.results[i].isFinal) finalTranscript += transcript + ' ';\r\n        else interimTranscript += transcript;\r\n      }\r\n      document.getElementById('interim').innerHTML = interimTranscript\r\n      document.getElementById('final').innerHTML = finalTranscript\r\n     //*************Resultat******************* */\r\n      if(interimTranscript === 'suivant'){\r\n        console.log(finalTranscript);\r\n        document.getElementById('resultat').innerHTML = \"Bravo\"\r\n      }\r\n    //-------------------------COMMANDS------------------------------------\r\n\r\n      const transcriptArr = finalTranscript.split(' ')\r\n      const stopCmd = transcriptArr.slice(-3, -1)\r\n      console.log('stopCmd', stopCmd)\r\n\r\n      if (stopCmd[0] === 'stop' && stopCmd[1] === 'stop'){\r\n        recognition.stop()\r\n        recognition.onend = () => {\r\n          console.log('Stopped listening per command')\r\n          const finalText = transcriptArr.slice(0, -3).join(' ')\r\n          document.getElementById('final').innerHTML = finalText          \r\n          //document.getElementById('resultat').innerHTML = finalText \r\n        }\r\n      }\r\n    }\r\n    \r\n  //-----------------------------------------------------------------------\r\n    \r\n    recognition.onerror = event => {\r\n      console.log(\"Error occurred in recognition: \" + event.error)\r\n    }\r\n\r\n  }\r\n\r\n    send =  e => {\r\n\r\n      localStorage.setItem(\"ParticipantIDReunion\", this.state.ParticipantIDReunion);\r\n      localStorage.setItem(\"ParticipantName\", this.state.participantName); \r\n      console.log('voici', localStorage.getItem(\"ParticipantIDReunion\")) \r\n      console.log('voici', localStorage.getItem(\"ParticipantName\")) \r\n      window.location = \"/Speech\" \r\n  return  ;\r\n\r\n  }\r\n\r\n  prev = e => window.location = \"/\"\r\n  affiche = e => {\r\n    console.log('voici', localStorage.getItem(\"ParticipantIDReunion\")) \r\n      console.log('voici', localStorage.getItem(\"ParticipantName\"))\r\n      return\r\n  }\r\n  render() {\r\n    \r\n        if (localStorage.getItem('ParticipantIDReunion') === null || localStorage.getItem('ParticipantName') === null ) {\r\n          console.log('voici', localStorage.getItem(\"ParticipantName\"))\r\n          return(\r\n            <div>\r\n            <div>\r\n                <ParticipationForm \r\n          onChangeParticipantIdReunion={this.onChangeParticipantIdReunion} ParticipantIDReunion={this.state.ParticipantIDReunion} \r\n          onChangeParticipantName={this.onChangeParticipantName} participantName={this.state.participantName} \r\n          send={this.send} prev = {this.prev} \r\n          />\r\n          </div>\r\n\r\n           <div class=\"LoginBack\">\r\n\r\n          <div style={container}>\r\n            <button id='microphone-btn' style={button} onClick={this.toggleListen}>Micro </button>\r\n            <div id='interim' style={interim}></div>\r\n            <div id='final' style={final}></div>\r\n            <div id='resultat' style={resultat}></div>\r\n\r\n          </div>\r\n          </div> \r\n          </div>\r\n\r\n          /* <div>\r\n          <Form center>\r\n          <FormGroup>\r\n              <Label for=\"idReunion\">Texte en cours</Label>\r\n              <Input type=\"text\" name=\"\" id=\"interim\" placeholder=\"A23AZE\" value=\"\"\r\n                      />\r\n          </FormGroup>\r\n          <FormGroup>\r\n              <Label for=\"Sujet\">Votre Texte</Label>\r\n              <Input type=\"text\" name=\"\" id=\"final\" placeholder=\"Votre Texte\" value=\"\"\r\n                      />\r\n          </FormGroup>\r\n          <FormGroup>\r\n              <Label for=\"Sujet\">Le résultat</Label>\r\n              <Input type=\"text\" name=\"\" id=\"resultat\" placeholder=\"Votre Texte\" value=\"\"\r\n                      />\r\n          </FormGroup>\r\n      </Form>\r\n      </div>\r\n      </div> */\r\n\r\n          )\r\n        } else {\r\n          return(\r\n             <div class=\"LoginBack\">\r\n\r\n          <div style={container}>\r\n            <button id='microphone-btn' style={button} onClick={this.toggleListen}><FaMicrophoneAlt/> </button>\r\n            <button id='microphone-btn' style={button}><FaMicrophoneAltSla/> </button>\r\n            <div id='interim' style={interim}></div>\r\n            <div id='final' style={final}></div>\r\n            <div id='resultat' style={resultat}></div>\r\n\r\n          </div>\r\n          </div> \r\n        )\r\n      }     \r\n  }\r\n}\r\n\r\n\r\n\r\n//-------------------------CSS------------------------------------\r\n\r\nconst styles = {\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    textAlign: 'center'\r\n  },\r\n  button: {\r\n    width: '60px',\r\n    height: '60px',\r\n    background: 'lightblue',\r\n    borderRadius: '50%',\r\n    margin: '6em 0 2em 0'\r\n  },\r\n  interim: {\r\n    color: 'gray',\r\n    border: '#ccc 1px solid',\r\n    padding: '1em',\r\n    margin: '1em',\r\n    width: '300px'\r\n  },\r\n  final: {\r\n    color: 'black',\r\n    border: '#ccc 1px solid',\r\n    padding: '1em',\r\n    margin: '1em',\r\n    width: '300px'\r\n  },\r\n  resultat: {\r\n    color: 'black',\r\n    border: '#ccc 1px solid',\r\n    padding: '1em',\r\n    margin: '1em',\r\n    width: '300px'\r\n  }\r\n}\r\n\r\nconst { container, button, interim, final, resultat } = styles"]},"metadata":{},"sourceType":"module"}