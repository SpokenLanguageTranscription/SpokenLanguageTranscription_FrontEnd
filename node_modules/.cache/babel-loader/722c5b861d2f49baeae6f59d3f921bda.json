{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ouadie\\\\IdeaProjects\\\\SLT\\\\SLT_Front\\\\src\\\\Pages\\\\Connexion.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nexport default class Connexion extends Component {\n  constructor() {\n    super();\n\n    this.send = event => {\n      if (this.state.email.length === 0) {\n        localStorage.setItem('text', \"email invalid\");\n        this.setState({ ...this.state\n        });\n        window.location = \"/\";\n        return;\n      }\n\n      if (this.state.password.length === 0) {\n        localStorage.setItem('text', \"pass invalid\");\n        this.setState({ ...this.state\n        });\n        window.location = \"/\";\n        return;\n      }\n\n      API.login(this.state.email, this.state.password).then(function (data) {\n        console.log(\"hahaha\", data);\n        localStorage.setItem(\"token\", data.data.secretToken);\n        localStorage.setItem('email', data.data.user.email);\n        localStorage.setItem('name', data.data.user.name);\n        localStorage.setItem('prenom', data.data.user.prenom);\n        localStorage.setItem('genre', data.data.user.genre);\n        localStorage.setItem('dateNaissance', data.data.user.dateNaissance);\n        localStorage.setItem('password', data.data.user.password);\n        localStorage.setItem('username', data.data.user.username);\n        localStorage.setItem('ville', data.data.user.ville);\n        localStorage.setItem('mobile', data.data.user.mobile);\n        if (localStorage.getItem('name') === \"undefined\") localStorage.setItem('name', \"\");\n        if (localStorage.getItem('prenom') === \"undefined\") localStorage.setItem('prenom', \"\");\n        if (localStorage.getItem('genre') === \"undefined\") localStorage.setItem('genre', \"\");\n        if (localStorage.getItem('dateNaissance') === \"undefined\") localStorage.setItem('dateNaissance', \"\");\n        if (localStorage.getItem('username') === \"undefined\") localStorage.setItem('username', \"\");\n        if (localStorage.getItem('ville') === \"undefined\") localStorage.setItem('ville', \"\");\n        if (localStorage.getItem('mobile') === \"undefined\") localStorage.setItem('mobile', \"\");\n        window.location = \"/dashboard\";\n      }, function (error) {});\n      localStorage.setItem('text', \"pass ou user invalid\");\n      this.setState({ ...this.state\n      }); ///console.log(error);\n      //  window.location = \"/\";\n\n      return;\n    };\n\n    this.state = {\n      mail: '',\n      pass: ''\n    };\n    this.onChangeMail = this.onChangeMail.bind(this);\n    this.onChangePass = this.onChangePass.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChangeMail(e) {\n    this.setState({\n      mail: e.target.value\n    });\n  }\n\n  onChangePass(e) {\n    this.setState({\n      pass: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n  }\n\n  render() {\n    return React.createElement(\"section\", {\n      className: \"Compte\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6 mt-5 mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      noValidate: true,\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"h1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Connectez vous\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      name: \"email\",\n      placeholder: \" E-mail\",\n      value: this.state.mail,\n      onChange: this.onChangeMail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group col-md-12 mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Mot de passe\"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      name: \"password\",\n      placeholder: \"Mot de passe\",\n      value: this.state.pass,\n      onChange: this.onChangePass,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"createAccount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"MyButtom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Authentification\")), React.createElement(Link, {\n      to: \"/RecupPass\",\n      className: \"small-connexion\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"small\", {\n      className: \"small-connexion\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Mot de pass oubli\\xE9 ?\")), React.createElement(Link, {\n      to: \"/CreerCompte\",\n      className: \"small-connexion\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"small\", {\n      className: \"small-connexion\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Cr\\xE9er un Compte\"))))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Ouadie/IdeaProjects/SLT/SLT_Front/src/Pages/Connexion.js"],"names":["React","Component","Link","Connexion","constructor","send","event","state","email","length","localStorage","setItem","setState","window","location","password","API","login","then","data","console","log","secretToken","user","name","prenom","genre","dateNaissance","username","ville","mobile","getItem","error","mail","pass","onChangeMail","bind","onChangePass","onSubmit","e","target","value","preventDefault","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nexport default class Connexion extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            mail: '',\r\n            pass: '',\r\n        }\r\n        this.onChangeMail = this.onChangeMail.bind(this)\r\n        this.onChangePass = this.onChangePass.bind(this)\r\n        this.onSubmit = this.onSubmit.bind(this)\r\n    }\r\n\r\n    onChangeMail (e) {\r\n        this.setState({ \r\n            mail: e.target.value \r\n        })\r\n    }\r\n\r\n    onChangePass (e) {\r\n        this.setState({\r\n            pass: e.target.value\r\n         })\r\n    }\r\n    \r\n    send = event => {\r\n        if (this.state.email.length === 0) {\r\n            localStorage.setItem('text', \"email invalid\"); this.setState({\r\n                ...this.state\r\n            });\r\n            window.location = \"/\"\r\n            return;\r\n        }\r\n        if (this.state.password.length === 0) {\r\n            localStorage.setItem('text', \"pass invalid\");this.setState({\r\n                ...this.state\r\n            });\r\n            window.location = \"/\"\r\n            return;\r\n        }\r\n\r\n        API.login(this.state.email, this.state.password).then(function (data) {\r\n            console.log(\"hahaha\",data)\r\n\r\n            localStorage.setItem(\"token\",data.data.secretToken)\r\n            localStorage.setItem('email', data.data.user.email);\r\n            localStorage.setItem('name', data.data.user.name);\r\n            localStorage.setItem('prenom', data.data.user.prenom);\r\n            localStorage.setItem('genre', data.data.user.genre);\r\n            localStorage.setItem('dateNaissance', data.data.user.dateNaissance);\r\n            localStorage.setItem('password', data.data.user.password);\r\n            localStorage.setItem('username', data.data.user.username);\r\n            localStorage.setItem('ville', data.data.user.ville);\r\n            localStorage.setItem('mobile', data.data.user.mobile);\r\n            if(localStorage.getItem('name')===\"undefined\") localStorage.setItem('name', \"\")\r\n            if(localStorage.getItem('prenom')===\"undefined\") localStorage.setItem('prenom', \"\")\r\n            if(localStorage.getItem('genre')===\"undefined\")localStorage.setItem('genre', \"\")\r\n            if(localStorage.getItem('dateNaissance')===\"undefined\")localStorage.setItem('dateNaissance', \"\")\r\n            if(localStorage.getItem('username')===\"undefined\")localStorage.setItem('username', \"\")\r\n            if(localStorage.getItem('ville')===\"undefined\")localStorage.setItem('ville', \"\")\r\n            if(localStorage.getItem('mobile')===\"undefined\")localStorage.setItem('mobile', \"\")\r\n\r\n\r\n\r\n            window.location = \"/dashboard\"\r\n        }, function (error ) {\r\n\r\n        });\r\n\r\n        localStorage.setItem('text', \"pass ou user invalid\");\r\n        this.setState({\r\n            ...this.state\r\n        });\r\n        ///console.log(error);\r\n        //  window.location = \"/\";\r\n        return  ;\r\n\r\n    }\r\n\r\n    onSubmit (e) {\r\n        e.preventDefault()\r\n\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            \r\n            <section className=\"Compte\">\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6 mt-5 mx-auto\">\r\n                        <form noValidate onSubmit={this.onSubmit}>\r\n                            <h1 className=\"h1\">Connectez vous</h1>\r\n\r\n\r\n\r\n                            <div>\r\n                                <label htmlFor=\"email\">Email</label>\r\n                                <input type=\"email\"\r\n                                    className=\"form-control\"\r\n                                    name=\"email\"\r\n                                    placeholder=\" E-mail\"\r\n                                    value={this.state.mail}\r\n                                    onChange={this.onChangeMail} />\r\n                            </div>\r\n                            <div className=\"form-group col-md-12 mt-5\">\r\n                                <label htmlFor=\"password\">Mot de passe</label>\r\n                                <input type=\"password\"\r\n                                    className=\"form-control\"\r\n                                    name=\"password\"\r\n                                    placeholder=\"Mot de passe\"\r\n                                    value={this.state.pass}\r\n                                    onChange={this.onChangePass} />\r\n                            </div>\r\n                            <div className=\"createAccount\">\r\n\r\n                                <Link to=\"/\">\r\n                                <button type=\"submit\" className=\"MyButtom\">Authentification</button>\r\n                                </Link>\r\n                                \r\n                                \r\n                                <Link to=\"/RecupPass\" className=\"small-connexion\">\r\n                                <small className=\"small-connexion\">Mot de pass oublié ?</small>\r\n                                </Link>\r\n\r\n                                <Link to=\"/CreerCompte\" className=\"small-connexion\">\r\n                                <small className=\"small-connexion\">Créer un Compte</small>\r\n                                </Link>\r\n\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </section>\r\n           \r\n        )\r\n    }\r\n\r\n\r\n\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}