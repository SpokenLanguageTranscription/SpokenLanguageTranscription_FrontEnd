{"ast":null,"code":"var _jsxFileName = \"D:\\\\setup\\\\Test_reactJS\\\\SpokenLanguageTranscription_FrontEnd\\\\src\\\\Composants\\\\Speech.js\";\nimport React, { useState } from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input, Media, Table } from 'reactstrap';\nimport { Component } from 'react';\nimport Alert from 'react-bootstrap/Alert';\nimport NotificationAlert from 'react-notification-alert';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"react-notification-alert/dist/animate.css\";\nimport { Container, Row, Col } from 'reactstrap';\nimport \"../App.css\";\nimport API from \"../Composants/API\";\nimport { ButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport Avatar from 'react-avatar';\nvar options1 = {};\nvar options2 = {};\noptions1 = {\n  place: 'tl',\n  message: React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, localStorage.getItem(\"success\"))),\n  type: \"success\",\n  icon: \"now-ui-icons ui-1_bell-53\",\n  autoDismiss: 4\n};\noptions2 = {\n  place: 'tl',\n  message: React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, localStorage.getItem(\"error\"))),\n  type: \"danger\",\n  icon: \"now-ui-icons ui-1_bell-53\",\n  autoDismiss: 4\n};\n\nconst TableDiscution = props => {\n  const [dropdownOpen, setOpen] = useState(false);\n\n  const toggle = () => setOpen(!dropdownOpen);\n\n  const {\n    row,\n    auteur,\n    phrase,\n    date\n  } = props;\n  return React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    scope: \"row\",\n    key: row,\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"  \", React.createElement(Avatar, {\n    facebookId: \"100009606691669\",\n    size: \"50\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), \"\\xA0\\xA0\", auteur, \" : \", phrase), React.createElement(\"span\", {\n    className: \"time-right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, date, \" \"))));\n};\n\nconst CompteForm = props => {};\n\nlet x = localStorage.getItem(\"idReunion\");\nexport default class Speech extends Component {\n  constructor() {\n    super();\n\n    this.send = e => {\n      if (this.state.participants.length === 0) {\n        console.log(\"email\", this.state.participants);\n        localStorage.setItem(\"error\", \"Ajouter les mails des participants\");\n        window.location = \"/reunion\";\n        return;\n      }\n\n      if (this.state.idReunion.length === 0) {\n        localStorage.setItem(\"error\", \"Ajouter un ID pour la réunion\");\n        window.location = \"/reunion\";\n        return;\n      }\n\n      if (this.state.sujet.length === 0) {\n        localStorage.setItem(\"error\", \"Ajouter un sujet pour la réunion\");\n        window.location = \"/reunion\";\n        return;\n      }\n\n      console.log(\"hahaha\", this.state.idReunion, this.state.sujet, this.state.participants);\n      API.createReunion(this.state.idReunion, this.state.sujet, this.state.participants).then(function (data) {\n        console.log(\"hahaha\", data.data);\n\n        if (data.data.reunion != null) {\n          localStorage.setItem(\"success\", \"Réunion ajouter avec succés\");\n        } else {\n          localStorage.setItem(\"error\", data.data);\n        }\n\n        return window.location = \"/reunion\";\n      }, function (error) {\n        localStorage.setItem(\"error\", \"ID réunion existe déjà\");\n        console.log(\"hahaha\", error);\n        window.location = \"/reunion\";\n        return;\n      });\n      return;\n    };\n\n    this.deleteReunion = e => {\n      console.log(\"event:\", e.target.value);\n      API.supprimerMaReunion(e.target.value).then(function (data) {\n        console.log(\"hahaha\", data.data);\n\n        if (data.data != null) {\n          localStorage.setItem(\"success\", \"Réunion supprimer avec succés\");\n          return window.location = \"/reunion\";\n        }\n      }, function (error) {\n        localStorage.setItem(\"error\", error);\n        console.log(\"hahaha\", error);\n        window.location = \"/reunion\";\n        return;\n      });\n      return;\n    };\n\n    this.state = {\n      participants: \"\",\n      idReunion: localStorage.getItem(\"idReunionActuelle\"),\n      sujet: localStorage.getItem(\"sujetActuelle\") != null ? localStorage.getItem(\"sujetActuelle\") : this.lastReunion(localStorage.getItem(\"email\")),\n      createur: localStorage.getItem(\"email\")\n    };\n\n    if (this.state.idReunion != \"\") {\n      this.setState({\n        data: this.miseAjourDiscourt(this.state.idReunion, this.state.createur)\n      });\n    } else {\n      this.setState({\n        data: this.miseAjourDiscourt(null, this.state.createur)\n      });\n    }\n\n    this.onChangeMail = this.onChangeMail.bind(this);\n    this.onChangeSujet = this.onChangeSujet.bind(this);\n    this.onChangeIdReunion = this.onChangeIdReunion.bind(this);\n    this.send = this.send.bind(this);\n    this.deleteReunion = this.deleteReunion.bind(this);\n  }\n\n  async miseAjourDiscourt(id, email) {\n    await API.showDiscutionReunion(id, email).then(data => {\n      console.log(\"data1\", data.data);\n      this.setState({\n        data: data.data\n      });\n      console.log(\"data2\", this.state.data);\n      if (id == null) x = id;\n    });\n  }\n\n  async lastReunion(email) {\n    console.log(\"lastReunion\", email);\n    await API.showlastReunion(email).then(data => {\n      localStorage.setItem(\"sujetActuelle\", data.data.sujet);\n      console.log(\"lastReunion\", data.data.sujet);\n      this.setState({\n        sujet: data.data.sujet\n      });\n      return data.data.sujet;\n    });\n  }\n\n  onChangeIdReunion(e) {\n    this.setState({\n      idReunion: e.target.value\n    });\n  }\n\n  onChangeSujet(e) {\n    this.setState({\n      sujet: e.target.value\n    });\n  }\n\n  onChangeMail(e) {\n    this.setState({\n      participants: e.target.value\n    });\n  }\n\n  componentDidMount() {\n    console.log(\"2\", localStorage.getItem(\"success\"));\n    if (localStorage.getItem('success') != null) this.refs.notify.notificationAlert(options1);\n    if (localStorage.getItem('error') != null) this.refs.notify.notificationAlert(options2);\n  }\n\n  componentDidUpdate() {\n    localStorage.removeItem('success');\n    localStorage.removeItem('error');\n    localStorage.removeItem('idReunionActuelle');\n\n    if (x == this.state.idReunion) {\n      this.lastReunion(localStorage.getItem(\"email\"));\n      x = 2;\n    } else x = 2;\n  }\n\n  render() {\n    let tab = [];\n\n    for (let ligne in this.state.data) {\n      console.log(\"ligne\", this.state.data[ligne]);\n      tab.push(this.state.data[ligne]);\n    }\n\n    let i = 1;\n    tab.map(row => console.log(\"tab\", row));\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(NotificationAlert, {\n      ref: \"notify\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, React.createElement(Col, {\n      xs: \"3\",\n      className: \"barreGauche\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(CompteForm, {\n      buttonLabel: \"Créer une nouvelle réunion.\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    })), React.createElement(Col, {\n      xs: \"9\",\n      className: \"barreDroite \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(Table, {\n      hover: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, \"Test\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, tab.map(row => React.createElement(TableDiscution, {\n      row: i++,\n      auteur: \"Test\",\n      phrase: \"TEST\",\n      date: \"Test\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    })))))));\n  }\n\n}","map":{"version":3,"sources":["D:/setup/Test_reactJS/SpokenLanguageTranscription_FrontEnd/src/Composants/Speech.js"],"names":["React","useState","Button","Modal","ModalHeader","ModalBody","ModalFooter","Form","FormGroup","Label","Input","Media","Table","Component","Alert","NotificationAlert","Container","Row","Col","API","ButtonDropdown","DropdownToggle","DropdownMenu","DropdownItem","Avatar","options1","options2","place","message","localStorage","getItem","type","icon","autoDismiss","TableDiscution","props","dropdownOpen","setOpen","toggle","row","auteur","phrase","date","CompteForm","x","Speech","constructor","send","e","state","participants","length","console","log","setItem","window","location","idReunion","sujet","createReunion","then","data","reunion","error","deleteReunion","target","value","supprimerMaReunion","lastReunion","createur","setState","miseAjourDiscourt","onChangeMail","bind","onChangeSujet","onChangeIdReunion","id","email","showDiscutionReunion","showlastReunion","componentDidMount","refs","notify","notificationAlert","componentDidUpdate","removeItem","render","tab","ligne","push","i","map"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport {Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input, Media,Table} from 'reactstrap';\r\nimport   { Component } from 'react';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport NotificationAlert from 'react-notification-alert';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"react-notification-alert/dist/animate.css\";\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport \"../App.css\";\r\nimport API from \"../Composants/API\";\r\nimport { ButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\r\nimport Avatar from 'react-avatar';\r\nvar options1 = {};\r\nvar options2 = {};\r\noptions1 = {\r\n    place: 'tl',\r\n    message: (\r\n        <div>\r\n            <div>\r\n                {localStorage.getItem(\"success\")}\r\n            </div>\r\n        </div>\r\n    ),\r\n    type: \"success\",\r\n    icon: \"now-ui-icons ui-1_bell-53\",\r\n    autoDismiss: 4\r\n}\r\noptions2 = {\r\n    place: 'tl',\r\n    message: (\r\n        <div>\r\n            <div>\r\n                {localStorage.getItem(\"error\")}\r\n            </div>\r\n        </div>\r\n    ),\r\n    type: \"danger\",\r\n    icon: \"now-ui-icons ui-1_bell-53\",\r\n    autoDismiss: 4\r\n}\r\nconst TableDiscution = (props)=>{\r\n    const [dropdownOpen, setOpen] = useState(false);\r\n\r\n    const toggle = () => setOpen(!dropdownOpen);\r\n\r\n\r\n    const {\r\n        row,\r\n        auteur,phrase,date,\r\n    } = props;\r\n    return <tr>\r\n        <th scope='row' key={row} className=\"container\">\r\n              <div className=\"container\">\r\n\r\n                  <p>  <Avatar facebookId=\"100009606691669\" size=\"50\" />&nbsp;&nbsp;\r\n\r\n                      {auteur} : {phrase}</p>\r\n                 <span className=\"time-right\">{date} </span>\r\n                  </div>\r\n        </th>\r\n    </tr>\r\n}\r\n\r\nconst CompteForm = (props) => {\r\n   \r\n}\r\n\r\nlet x= localStorage.getItem(\"idReunion\");\r\nexport default class Speech extends Component {\r\n\r\n\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n\r\n            participants :\"\",\r\n            idReunion:localStorage.getItem(\"idReunionActuelle\"),\r\n            sujet : localStorage.getItem(\"sujetActuelle\") !=null ? localStorage.getItem(\"sujetActuelle\") : this.lastReunion(localStorage.getItem(\"email\")) ,\r\n            createur :localStorage.getItem(\"email\"),\r\n        }\r\n        if(this.state.idReunion !=\"\"){\r\n            this.setState({\r\n                data : this.miseAjourDiscourt(this.state.idReunion,this.state.createur),\r\n             })\r\n        }else{\r\n            this.setState({\r\n                data : this.miseAjourDiscourt(null,this.state.createur),\r\n             })\r\n\r\n        }\r\n\r\n\r\n        this.onChangeMail = this.onChangeMail.bind(this)\r\n        this.onChangeSujet = this.onChangeSujet.bind(this)\r\n        this.onChangeIdReunion = this.onChangeIdReunion.bind(this)\r\n        this.send = this.send.bind(this)\r\n        this.deleteReunion = this.deleteReunion.bind(this)\r\n    }\r\n    async miseAjourDiscourt (id,email) {\r\n        await API.showDiscutionReunion(id,email).then((data)=>{\r\n            console.log(\"data1\",data.data)\r\n            this.setState({\r\n                data: data.data\r\n            })\r\n            console.log(\"data2\",this.state.data)\r\n            if(id==null)  x=id\r\n        })\r\n    }\r\n    async lastReunion (email) {\r\n        console.log(\"lastReunion\",email)\r\n        await API.showlastReunion(email).then((data)=>{\r\n        localStorage.setItem(\"sujetActuelle\",data.data.sujet)\r\n            console.log(\"lastReunion\",data.data.sujet)\r\n            this.setState({\r\n                sujet: data.data.sujet\r\n            })\r\n            return data.data.sujet\r\n        })\r\n    }\r\n    onChangeIdReunion (e) {\r\n        this.setState({\r\n            idReunion: e.target.value\r\n        })\r\n    }\r\n\r\n    onChangeSujet (e) {\r\n        this.setState({\r\n            sujet: e.target.value\r\n        })\r\n    }\r\n    onChangeMail (e) {\r\n        this.setState({\r\n            participants: e.target.value\r\n        })\r\n    }\r\n\r\n\r\n    send =  e => {\r\n\r\n\r\n        if (this.state.participants.length === 0) {\r\n            console.log(\"email\",this.state.participants)\r\n            localStorage.setItem(\"error\", \"Ajouter les mails des participants\");\r\n\r\n            window.location = \"/reunion\"\r\n            return;\r\n        }\r\n        if (this.state.idReunion.length === 0) {\r\n            localStorage.setItem(\"error\", \"Ajouter un ID pour la réunion\");\r\n            window.location = \"/reunion\"\r\n            return;\r\n        }\r\n        if (this.state.sujet.length === 0) {\r\n            localStorage.setItem(\"error\", \"Ajouter un sujet pour la réunion\");\r\n            window.location = \"/reunion\"\r\n            return;\r\n        }\r\n        console.log(\"hahaha\",this.state.idReunion, this.state.sujet,this.state.participants)\r\n        API.createReunion(this.state.idReunion, this.state.sujet,this.state.participants).then(function (data) {\r\n            console.log(\"hahaha\",data.data)\r\n             if(data.data.reunion != null){\r\n                 localStorage.setItem(\"success\",\"Réunion ajouter avec succés\")\r\n\r\n             }else{\r\n                 localStorage.setItem(\"error\",data.data)\r\n             }\r\n\r\n\r\n\r\n\r\n                return window.location = \"/reunion\"\r\n\r\n\r\n\r\n\r\n\r\n    }, function (error ) {\r\n        localStorage.setItem(\"error\",\"ID réunion existe déjà\")\r\n        console.log(\"hahaha\",error)\r\n\r\n       window.location = \"/reunion\"\r\n\r\n        return\r\n    });\r\n\r\n\r\n\r\n\r\n    return  ;\r\n\r\n}\r\n    deleteReunion =  e => {\r\nconsole.log(\"event:\",e.target.value)\r\n\r\n        API.supprimerMaReunion(e.target.value).then(function (data) {\r\n            console.log(\"hahaha\",data.data)\r\n            if(data.data != null){\r\n                localStorage.setItem(\"success\",\"Réunion supprimer avec succés\")\r\n               return window.location = \"/reunion\"\r\n            }\r\n        }, function (error ) {\r\n            localStorage.setItem(\"error\",error)\r\n            console.log(\"hahaha\",error)\r\n\r\n               window.location = \"/reunion\"\r\n\r\n            return\r\n        });\r\n\r\n\r\n\r\n\r\n        return  ;\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n\r\n        console.log(\"2\",localStorage.getItem(\"success\"))\r\n        if(localStorage.getItem('success')!= null) this.refs.notify.notificationAlert(options1);\r\n        if(localStorage.getItem('error')!= null) this.refs.notify.notificationAlert(options2);\r\n    }\r\n    componentDidUpdate() {\r\n        localStorage.removeItem('success')\r\n        localStorage.removeItem('error')\r\n        localStorage.removeItem('idReunionActuelle')\r\n        if(x==this.state.idReunion) {this.lastReunion(localStorage.getItem(\"email\"));x=2}\r\n        else x=2\r\n\r\n\r\n    }\r\n    render () {\r\n        let tab = []\r\n        for(let ligne in this.state.data){\r\n            console.log(\"ligne\",this.state.data[ligne])\r\n            tab.push(this.state.data[ligne])\r\n        }\r\n        let i=1\r\n        tab.map(row => console.log(\"tab\",row) )\r\n\r\n        return (\r\n            <Container>\r\n                <NotificationAlert ref=\"notify\" />\r\n                <Row>\r\n                    <Col xs=\"3\" className=\"barreGauche\">\r\n                         <CompteForm buttonLabel ={\"Créer une nouvelle réunion.\"}/>\r\n\r\n                    </Col>\r\n\r\n                    <Col xs=\"9\" className=\"barreDroite \">\r\n                        <Table hover >\r\n                            <thead>\r\n                            <tr>\r\n                                <th>Test</th>\r\n\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {\r\n\r\n                                tab.map(row => <TableDiscution row={i++} auteur=\"Test\" phrase=\"TEST\" date=\"Test\"  />)\r\n                            }\r\n                            </tbody>\r\n                        </Table>\r\n\r\n\r\n                    </Col>\r\n                </Row>\r\n\r\n            </Container>\r\n\r\n\r\n        )\r\n    }\r\n\r\n\r\n\r\n\r\n}"]},"metadata":{},"sourceType":"module"}