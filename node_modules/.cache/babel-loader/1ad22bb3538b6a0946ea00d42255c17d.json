{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Ouadie\\\\IdeaProjects\\\\SLT\\\\SLT_Front\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Ouadie\\\\IdeaProjects\\\\SLT\\\\SLT_Front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\Ouadie\\\\IdeaProjects\\\\SLT\\\\SLT_Front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ouadie\\\\IdeaProjects\\\\SLT\\\\SLT_Front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Ouadie\\\\IdeaProjects\\\\SLT\\\\SLT_Front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Ouadie\\\\IdeaProjects\\\\SLT\\\\SLT_Front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Ouadie\\\\IdeaProjects\\\\SLT\\\\SLT_Front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Ouadie\\\\IdeaProjects\\\\SLT\\\\SLT_Front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _slicedToArray from\"C:\\\\Users\\\\Ouadie\\\\IdeaProjects\\\\SLT\\\\SLT_Front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Button,Modal,ModalHeader,ModalBody,ModalFooter,Form,FormGroup,Label,Input,FormText,Table}from'reactstrap';import{Component}from'react';import Alert from'react-bootstrap/Alert';import NotificationAlert from'react-notification-alert';import'bootstrap/dist/css/bootstrap.min.css';import\"react-notification-alert/dist/animate.css\";import{Container,Row,Col}from'reactstrap';import\"../App.css\";import API from\"../Composants/API\";import{ButtonDropdown,DropdownToggle,DropdownMenu,DropdownItem}from'reactstrap';var options1={};var options2={};options1={place:'tl',message:React.createElement(\"div\",null,React.createElement(\"div\",null,localStorage.getItem(\"success\"))),type:\"success\",icon:\"now-ui-icons ui-1_bell-53\",autoDismiss:4};options2={place:'tl',message:React.createElement(\"div\",null,React.createElement(\"div\",null,localStorage.getItem(\"error\"))),type:\"danger\",icon:\"now-ui-icons ui-1_bell-53\",autoDismiss:4};var TableReunion=function TableReunion(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),dropdownOpen=_useState2[0],setOpen=_useState2[1];var toggle=function toggle(){return setOpen(!dropdownOpen);};/*   let sortie=\"\";\r\n   API.showAllMesReunion().then((data)=>{\r\n             console.log(\"Data\",data.data[1].createur)\r\n             for(let ligne in data.data[1]){\r\n                 sortie = sortie+<tr><th scope='row'>1</th><td>Mark</td><td>Otto</td><td>@mdo</td><td>@mdo</td></tr>\r\n             }\r\n         })\r\n     console.log(\"sortie(TableReunion)\",sortie)\r\n     return (sortie)*/var row=props.row,idReunion=props.idReunion,sujet=props.sujet,date=props.date,object=props.object,deleteReunion=props.deleteReunion,reunionActuelle=props.reunionActuelle;return React.createElement(\"tr\",null,React.createElement(\"th\",{scope:\"row\",key:row},row),React.createElement(\"td\",null,idReunion),React.createElement(\"td\",null,sujet),React.createElement(\"td\",null,date),React.createElement(\"td\",null,React.createElement(ButtonDropdown,{isOpen:dropdownOpen,toggle:toggle},React.createElement(DropdownToggle,{color:\"primary\"},\"Update\"),React.createElement(DropdownMenu,null,React.createElement(DropdownItem,{onClick:reunionActuelle,value:idReunion+\":\"+sujet},\"Ouvrir\"),React.createElement(DropdownItem,{disabled:true},\"Participants\"),React.createElement(DropdownItem,{divider:true}),React.createElement(DropdownItem,{value:idReunion,onClick:deleteReunion},\"Supprimer\")))));};var CompteForm=function CompteForm(props){var buttonLabel=props.buttonLabel,className=props.className,onChangeIdReunion=props.onChangeIdReunion,idReunion=props.idReunion,onChangeSujet=props.onChangeSujet,sujet=props.sujet,onChangeMail=props.onChangeMail,participants=props.participants,send=props.send;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),modal=_useState4[0],setModal=_useState4[1];var toggle=function toggle(){return setModal(!modal);};return React.createElement(\"div\",null,React.createElement(Button,{color:\"info\",className:\"elemBarreGauche\",onClick:toggle},buttonLabel),React.createElement(Modal,{isOpen:modal,toggle:toggle,className:className},React.createElement(ModalHeader,{toggle:toggle},\"Formulaire de cr\\xE9ation de r\\xE9union\"),React.createElement(ModalBody,null,React.createElement(\"div\",null,React.createElement(Form,null,React.createElement(FormGroup,null,React.createElement(Label,{for:\"idReunion\"},\"ID R\\xE9union\"),React.createElement(Input,{type:\"text\",name:\"idReunion\",id:\"idReunion\",placeholder:\"A23AZE\",value:idReunion,onChange:onChangeIdReunion})),React.createElement(FormGroup,null,React.createElement(Label,{for:\"Sujet\"},\"Sujet de la r\\xE9union\"),React.createElement(Input,{type:\"text\",name:\"sujet\",id:\"Sujet\",placeholder:\"Le sujet principale de la r\\xE9unison\",value:sujet,onChange:onChangeSujet})),React.createElement(FormGroup,null,React.createElement(Label,{for:\"Email\"},\"Participants\"),React.createElement(Input,{type:\"email\",name:\"participants\",id:\"Email\",placeholder:\"Steph@gmail.com;pascal@hotmail.com\",value:participants,onChange:onChangeMail}))))),React.createElement(ModalFooter,null,React.createElement(Button,{color:\"primary\",onClick:send},\"Enregistrer\"),' ',React.createElement(Button,{color:\"secondary\",onClick:toggle},\"Cancel\"))));};var Reunion=/*#__PURE__*/function(_Component){_inherits(Reunion,_Component);function Reunion(){var _this;_classCallCheck(this,Reunion);_this=_possibleConstructorReturn(this,_getPrototypeOf(Reunion).call(this));_this.send=function(e){if(_this.state.participants.length===0){console.log(\"email\",_this.state.participants);localStorage.setItem(\"error\",\"Ajouter les mails des participants\");window.location=\"/reunion\";return;}if(_this.state.idReunion.length===0){localStorage.setItem(\"error\",\"Ajouter un ID pour la réunion\");window.location=\"/reunion\";return;}if(_this.state.sujet.length===0){localStorage.setItem(\"error\",\"Ajouter un sujet pour la réunion\");window.location=\"/reunion\";return;}console.log(\"hahaha\",_this.state.idReunion,_this.state.sujet,_this.state.participants);API.createReunion(_this.state.idReunion,_this.state.sujet,_this.state.participants).then(function(data){console.log(\"hahaha\",data.data);if(data.data.reunion!=null){localStorage.setItem(\"success\",\"Réunion ajouter avec succés\");}else{localStorage.setItem(\"error\",data.data);}return window.location=\"/reunion\";},function(error){localStorage.setItem(\"error\",\"ID réunion existe déjà\");console.log(\"hahaha\",error);window.location=\"/reunion\";return;});return;};_this.deleteReunion=function(e){console.log(\"event:\",e.target.value);API.supprimerMaReunion(e.target.value).then(function(data){console.log(\"hahaha\",data.data);if(data.data!=null){localStorage.setItem(\"success\",\"Réunion supprimer avec succés\");return window.location=\"/reunion\";}},function(error){localStorage.setItem(\"error\",error);console.log(\"hahaha\",error);window.location=\"/reunion\";return;});return;};_this.state={data:_this.miseAjourMesReunion(),participants:\"\",idReunion:\"\",sujet:\"\",createur:localStorage.getItem(\"email\")};_this.onChangeMail=_this.onChangeMail.bind(_assertThisInitialized(_this));_this.onChangeSujet=_this.onChangeSujet.bind(_assertThisInitialized(_this));_this.onChangeIdReunion=_this.onChangeIdReunion.bind(_assertThisInitialized(_this));_this.send=_this.send.bind(_assertThisInitialized(_this));_this.deleteReunion=_this.deleteReunion.bind(_assertThisInitialized(_this));_this.reunionActuelle=_this.reunionActuelle.bind(_assertThisInitialized(_this));return _this;}_createClass(Reunion,[{key:\"miseAjourMesReunion\",value:function(){var _miseAjourMesReunion=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return API.showAllMesReunion().then(function(data){console.log(\"data1\",data.data);_this2.setState({data:data.data});console.log(\"data2\",_this2.state.data);});case 2:case\"end\":return _context.stop();}}},_callee);}));function miseAjourMesReunion(){return _miseAjourMesReunion.apply(this,arguments);}return miseAjourMesReunion;}()},{key:\"onChangeIdReunion\",value:function onChangeIdReunion(e){this.setState({idReunion:e.target.value});}},{key:\"onChangeSujet\",value:function onChangeSujet(e){this.setState({sujet:e.target.value});}},{key:\"onChangeMail\",value:function onChangeMail(e){this.setState({participants:e.target.value});}},{key:\"reunionActuelle\",value:function reunionActuelle(e){localStorage.setItem(\"idReunionActuelle\",e.target.value.substr(0,e.target.value.search(\":\")));localStorage.setItem(\"sujetActuelle\",e.target.value.substr(e.target.value.search(\":\")+1,e.target.value.length));console.log(\"reunionActuelle\",e.target.value.substr(0,e.target.value.search(\":\")),\"/\",e.target.value.substr(e.target.value.search(\":\")+1,e.target.value.length));window.location=\"/affichereunion\";}},{key:\"componentDidMount\",value:function componentDidMount(){console.log(\"2\",localStorage.getItem(\"success\"));if(localStorage.getItem('success')!=null)this.refs.notify.notificationAlert(options1);if(localStorage.getItem('error')!=null)this.refs.notify.notificationAlert(options2);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){localStorage.removeItem('success');localStorage.removeItem('error');}},{key:\"render\",value:function render(){var _this3=this;var tab=[];for(var ligne in this.state.data){console.log(\"ligne\",this.state.data[ligne]);tab.push(this.state.data[ligne]);}var i=1;tab.map(function(row){return console.log(\"tab\",row);});return React.createElement(Container,null,React.createElement(NotificationAlert,{ref:\"notify\"}),React.createElement(Row,null,React.createElement(Col,{xs:\"3\",className:\"barreGauche\"},React.createElement(CompteForm,{buttonLabel:\"Créer une nouvelle réunion.\",onChangeIdReunion:this.onChangeIdReunion,onChangeSujet:this.onChangeSujet,onChangeMail:this.onChangeMail,sujet:this.state.sujet,email:this.state.email,idReunion:this.state.idReunion,send:this.send})),React.createElement(Col,{xs:\"9\",className:\"barreDroite \"},React.createElement(Table,{hover:true},React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"#\"),React.createElement(\"th\",null,\"ID\"),React.createElement(\"th\",null,\"Sujet\"),React.createElement(\"th\",null,\"Date\"),React.createElement(\"th\",null,\"Action\"))),React.createElement(\"tbody\",null,tab.map(function(row){return React.createElement(TableReunion,{row:i++,idReunion:row.idReunion,sujet:row.sujet,date:row.createdAt,deleteReunion:_this3.deleteReunion,reunionActuelle:_this3.reunionActuelle});}))))));}}]);return Reunion;}(Component);export{Reunion as default};","map":{"version":3,"sources":["C:/Users/Ouadie/IdeaProjects/SLT/SLT_Front/src/Pages/Reunion.js"],"names":["React","useState","Button","Modal","ModalHeader","ModalBody","ModalFooter","Form","FormGroup","Label","Input","FormText","Table","Component","Alert","NotificationAlert","Container","Row","Col","API","ButtonDropdown","DropdownToggle","DropdownMenu","DropdownItem","options1","options2","place","message","localStorage","getItem","type","icon","autoDismiss","TableReunion","props","dropdownOpen","setOpen","toggle","row","idReunion","sujet","date","object","deleteReunion","reunionActuelle","CompteForm","buttonLabel","className","onChangeIdReunion","onChangeSujet","onChangeMail","participants","send","modal","setModal","Reunion","e","state","length","console","log","setItem","window","location","createReunion","then","data","reunion","error","target","value","supprimerMaReunion","miseAjourMesReunion","createur","bind","showAllMesReunion","setState","substr","search","refs","notify","notificationAlert","removeItem","tab","ligne","push","i","map","email","createdAt"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport {Button, Modal, ModalHeader, ModalBody, ModalFooter, Form, FormGroup, Label, Input, FormText,Table} from 'reactstrap';\r\nimport   { Component } from 'react';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport NotificationAlert from 'react-notification-alert';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"react-notification-alert/dist/animate.css\";\r\nimport { Container, Row, Col } from 'reactstrap';\r\nimport \"../App.css\";\r\nimport API from \"../Composants/API\";\r\nimport { ButtonDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\r\n\r\nvar options1 = {};\r\nvar options2 = {};\r\noptions1 = {\r\n    place: 'tl',\r\n    message: (\r\n        <div>\r\n            <div>\r\n                {localStorage.getItem(\"success\")}\r\n            </div>\r\n        </div>\r\n    ),\r\n    type: \"success\",\r\n    icon: \"now-ui-icons ui-1_bell-53\",\r\n    autoDismiss: 4\r\n}\r\noptions2 = {\r\n    place: 'tl',\r\n    message: (\r\n        <div>\r\n            <div>\r\n                {localStorage.getItem(\"error\")}\r\n            </div>\r\n        </div>\r\n    ),\r\n    type: \"danger\",\r\n    icon: \"now-ui-icons ui-1_bell-53\",\r\n    autoDismiss: 4\r\n}\r\nconst TableReunion = (props)=>{\r\n    const [dropdownOpen, setOpen] = useState(false);\r\n\r\n    const toggle = () => setOpen(!dropdownOpen);\r\n\r\n    /*   let sortie=\"\";\r\n   API.showAllMesReunion().then((data)=>{\r\n             console.log(\"Data\",data.data[1].createur)\r\n             for(let ligne in data.data[1]){\r\n                 sortie = sortie+<tr><th scope='row'>1</th><td>Mark</td><td>Otto</td><td>@mdo</td><td>@mdo</td></tr>\r\n             }\r\n         })\r\n     console.log(\"sortie(TableReunion)\",sortie)\r\n     return (sortie)*/\r\n    const {\r\n        row,\r\n        idReunion,sujet,date,object,deleteReunion,reunionActuelle\r\n    } = props;\r\n    return <tr>\r\n\r\n        <th scope='row' key={row}>{row}</th><td>{idReunion}</td><td>{sujet}</td><td>{date}</td>\r\n        <td><ButtonDropdown isOpen={dropdownOpen} toggle={toggle}>\r\n            <DropdownToggle  color=\"primary\">\r\n                Update\r\n            </DropdownToggle>\r\n            <DropdownMenu>\r\n\r\n                 <DropdownItem onClick={reunionActuelle} value={idReunion+\":\"+sujet} >Ouvrir</DropdownItem>\r\n                <DropdownItem disabled>Participants</DropdownItem>\r\n                <DropdownItem divider/>\r\n                <DropdownItem value={idReunion} onClick={deleteReunion}>Supprimer</DropdownItem>\r\n            </DropdownMenu>\r\n        </ButtonDropdown></td>\r\n\r\n    </tr>\r\n}\r\n\r\nconst CompteForm = (props) => {\r\n    const {\r\n        buttonLabel,\r\n        className,onChangeIdReunion,idReunion,onChangeSujet,sujet,onChangeMail,participants,send\r\n    } = props;\r\n\r\n    const [modal, setModal] = useState(false);\r\n\r\n    const toggle = () => setModal(!modal);\r\n\r\n    return (\r\n        <div>\r\n            <Button color=\"info\" className=\"elemBarreGauche\"  onClick={toggle}>{buttonLabel}</Button>\r\n            <Modal isOpen={modal} toggle={toggle} className={className}>\r\n                <ModalHeader toggle={toggle}>Formulaire de création de réunion</ModalHeader>\r\n                <ModalBody>\r\n                    <div>\r\n                        <Form>\r\n                            <FormGroup>\r\n                                <Label for=\"idReunion\">ID Réunion</Label>\r\n                                <Input type=\"text\" name=\"idReunion\" id=\"idReunion\" placeholder=\"A23AZE\" value={idReunion}\r\n                                       onChange={onChangeIdReunion} />\r\n                            </FormGroup>\r\n                            <FormGroup>\r\n                                <Label for=\"Sujet\">Sujet de la réunion</Label>\r\n                                <Input type=\"text\" name=\"sujet\" id=\"Sujet\" placeholder=\"Le sujet principale de la réunison\" value={sujet}\r\n                                       onChange={onChangeSujet} />\r\n                            </FormGroup>\r\n                            <FormGroup>\r\n                                <Label for=\"Email\">Participants</Label>\r\n                                <Input type=\"email\" name=\"participants\" id=\"Email\" placeholder=\"Steph@gmail.com;pascal@hotmail.com\" value={participants}\r\n                                       onChange={onChangeMail} />\r\n                            </FormGroup>\r\n\r\n\r\n                        </Form></div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <Button color=\"primary\" onClick={send}>Enregistrer</Button>{' '}\r\n                    <Button color=\"secondary\" onClick={toggle}>Cancel</Button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default class Reunion extends Component {\r\n\r\n\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            data : this.miseAjourMesReunion(),\r\n            participants :\"\",\r\n            idReunion:\"\",\r\n            sujet : \"\",\r\n            createur :localStorage.getItem(\"email\"),\r\n        }\r\n\r\n\r\n\r\n        this.onChangeMail = this.onChangeMail.bind(this)\r\n        this.onChangeSujet = this.onChangeSujet.bind(this)\r\n        this.onChangeIdReunion = this.onChangeIdReunion.bind(this)\r\n        this.send = this.send.bind(this)\r\n        this.deleteReunion = this.deleteReunion.bind(this)\r\n        this.reunionActuelle = this.reunionActuelle.bind(this)\r\n    }\r\n    async miseAjourMesReunion () {\r\n        await API.showAllMesReunion().then((data)=>{\r\n            console.log(\"data1\",data.data)\r\n            this.setState({\r\n                data: data.data\r\n            })\r\n            console.log(\"data2\",this.state.data)\r\n\r\n        })\r\n    }\r\n    onChangeIdReunion (e) {\r\n        this.setState({\r\n            idReunion: e.target.value\r\n        })\r\n    }\r\n\r\n    onChangeSujet (e) {\r\n        this.setState({\r\n            sujet: e.target.value\r\n        })\r\n    }\r\n    onChangeMail (e) {\r\n        this.setState({\r\n            participants: e.target.value\r\n        })\r\n    }\r\n    reunionActuelle(e){\r\n        localStorage.setItem(\"idReunionActuelle\",e.target.value.substr(0, e.target.value.search(\":\")))\r\n        localStorage.setItem(\"sujetActuelle\",e.target.value.substr(e.target.value.search(\":\")+1,e.target.value.length ))\r\n        console.log(\"reunionActuelle\",e.target.value.substr(0, e.target.value.search(\":\")),\"/\",e.target.value.substr(e.target.value.search(\":\")+1,e.target.value.length ))\r\n        window.location = \"/affichereunion\"\r\n    }\r\n\r\n\r\n    send =  e => {\r\n\r\n\r\n        if (this.state.participants.length === 0) {\r\n            console.log(\"email\",this.state.participants)\r\n            localStorage.setItem(\"error\", \"Ajouter les mails des participants\");\r\n\r\n            window.location = \"/reunion\"\r\n            return;\r\n        }\r\n        if (this.state.idReunion.length === 0) {\r\n            localStorage.setItem(\"error\", \"Ajouter un ID pour la réunion\");\r\n            window.location = \"/reunion\"\r\n            return;\r\n        }\r\n        if (this.state.sujet.length === 0) {\r\n            localStorage.setItem(\"error\", \"Ajouter un sujet pour la réunion\");\r\n            window.location = \"/reunion\"\r\n            return;\r\n        }\r\n        console.log(\"hahaha\",this.state.idReunion, this.state.sujet,this.state.participants)\r\n        API.createReunion(this.state.idReunion, this.state.sujet,this.state.participants).then(function (data) {\r\n            console.log(\"hahaha\",data.data)\r\n             if(data.data.reunion != null){\r\n                 localStorage.setItem(\"success\",\"Réunion ajouter avec succés\")\r\n\r\n             }else{\r\n                 localStorage.setItem(\"error\",data.data)\r\n             }\r\n\r\n\r\n\r\n\r\n                return window.location = \"/reunion\"\r\n\r\n\r\n\r\n\r\n\r\n    }, function (error ) {\r\n        localStorage.setItem(\"error\",\"ID réunion existe déjà\")\r\n        console.log(\"hahaha\",error)\r\n\r\n       window.location = \"/reunion\"\r\n\r\n        return\r\n    });\r\n\r\n\r\n\r\n\r\n    return  ;\r\n\r\n}\r\n    deleteReunion =  e => {\r\nconsole.log(\"event:\",e.target.value)\r\n\r\n        API.supprimerMaReunion(e.target.value).then(function (data) {\r\n            console.log(\"hahaha\",data.data)\r\n            if(data.data != null){\r\n                localStorage.setItem(\"success\",\"Réunion supprimer avec succés\")\r\n               return window.location = \"/reunion\"\r\n            }\r\n        }, function (error ) {\r\n            localStorage.setItem(\"error\",error)\r\n            console.log(\"hahaha\",error)\r\n\r\n               window.location = \"/reunion\"\r\n\r\n            return\r\n        });\r\n\r\n\r\n\r\n\r\n        return  ;\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n\r\n        console.log(\"2\",localStorage.getItem(\"success\"))\r\n        if(localStorage.getItem('success')!= null) this.refs.notify.notificationAlert(options1);\r\n        if(localStorage.getItem('error')!= null) this.refs.notify.notificationAlert(options2);\r\n    }\r\n    componentDidUpdate() {\r\n        localStorage.removeItem('success')\r\n        localStorage.removeItem('error')\r\n    }\r\n    render () {\r\n        let tab = []\r\n        for(let ligne in this.state.data){\r\n            console.log(\"ligne\",this.state.data[ligne])\r\n            tab.push(this.state.data[ligne])\r\n        }\r\n        let i=1\r\n        tab.map(row => console.log(\"tab\",row) )\r\n\r\n        return (\r\n            <Container>\r\n                <NotificationAlert ref=\"notify\" />\r\n                <Row>\r\n                    <Col xs=\"3\" className=\"barreGauche\">\r\n                         <CompteForm buttonLabel ={\"Créer une nouvelle réunion.\"} onChangeIdReunion={this.onChangeIdReunion} onChangeSujet={this.onChangeSujet} onChangeMail={this.onChangeMail} sujet ={this.state.sujet} email={this.state.email} idReunion={this.state.idReunion} send={this.send} />\r\n\r\n                    </Col>\r\n\r\n                    <Col xs=\"9\" className=\"barreDroite \">\r\n                        <Table hover >\r\n                            <thead>\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>ID</th>\r\n                                <th>Sujet</th>\r\n                                <th>Date</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {\r\n\r\n                               tab.map(row => <TableReunion row={i++} idReunion={row.idReunion} sujet={row.sujet} date={row.createdAt} deleteReunion={this.deleteReunion} reunionActuelle={this.reunionActuelle}/>)\r\n                            }\r\n                            </tbody>\r\n                        </Table>\r\n\r\n\r\n                    </Col>\r\n                </Row>\r\n\r\n            </Container>\r\n\r\n\r\n        )\r\n    }\r\n\r\n\r\n\r\n\r\n}"]},"metadata":{},"sourceType":"module"}