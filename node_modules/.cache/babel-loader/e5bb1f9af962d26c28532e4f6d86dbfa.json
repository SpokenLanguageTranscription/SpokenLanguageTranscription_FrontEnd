{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ouadie\\\\IdeaProjects\\\\SLT\\\\SLT_Front\\\\src\\\\Pages\\\\Connexion.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport API from '../Composants/API';\nexport default class Connexion extends Component {\n  constructor() {\n    super();\n\n    this.send = event => {\n      if (this.state.email.length === 0) {\n        localStorage.setItem('text', \"email invalid\");\n        this.setState({ ...this.state\n        });\n        window.location = \"/connexion\";\n        return;\n      }\n\n      if (this.state.password.length === 0) {\n        localStorage.setItem('text', \"pass invalid\");\n        this.setState({ ...this.state\n        });\n        window.location = \"/connexion\";\n        return;\n      }\n\n      API.login(this.state.email, this.state.password).then(function (data) {\n        console.log(\"hahaha\", data.data);\n        localStorage.setItem(\"token\", data.data.token);\n        API.decrypt().then(data => {\n          localStorage.setItem(\"id\", data.data.id);\n          localStorage.setItem(\"email\", data.data.email);\n          localStorage.setItem(\"username\", data.data.username);\n          localStorage.setItem(\"name\", data.data.name);\n        }); //window.location = \"/dashboard\"\n      }, function (error) {\n        console.log(\"hahaha\", error.data);\n      });\n      this.setState({ ...this.state\n      }); ///console.log(error);\n      //  window.location = \"/\";\n\n      return;\n    };\n\n    this.state = {\n      email: '',\n      password: ''\n    };\n    this.onChangeMail = this.onChangeMail.bind(this);\n    this.onChangePass = this.onChangePass.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChangeMail(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  onChangePass(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n  }\n\n  render() {\n    return React.createElement(\"section\", {\n      className: \"Compte\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6 mt-5 mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      noValidate: true,\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"h1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Connectez vous\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      type: \"email\",\n      className: \"form-control\",\n      name: \"email\",\n      placeholder: \" E-mail\",\n      value: this.state.email,\n      onChange: this.onChangeMail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group col-md-12 mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Mot de passe\"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      name: \"password\",\n      placeholder: \"Mot de passe\",\n      value: this.state.password,\n      onChange: this.onChangePass,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"createAccount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.send,\n      className: \"MyButtom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Authentification\")), React.createElement(Link, {\n      to: \"/RecupPass\",\n      className: \"small-connexion\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"small\", {\n      className: \"small-connexion\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Mot de pass oubli\\xE9 ?\")), React.createElement(Link, {\n      to: \"/CreerCompte\",\n      className: \"small-connexion\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"small\", {\n      className: \"small-connexion\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Cr\\xE9er un Compte\"))))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Ouadie/IdeaProjects/SLT/SLT_Front/src/Pages/Connexion.js"],"names":["React","Component","Link","API","Connexion","constructor","send","event","state","email","length","localStorage","setItem","setState","window","location","password","login","then","data","console","log","token","decrypt","id","username","name","error","onChangeMail","bind","onChangePass","onSubmit","e","target","value","preventDefault","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport  API from '../Composants/API'\r\n\r\nexport default class Connexion extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n        }\r\n        this.onChangeMail = this.onChangeMail.bind(this)\r\n        this.onChangePass = this.onChangePass.bind(this)\r\n        this.onSubmit = this.onSubmit.bind(this)\r\n    }\r\n\r\n    onChangeMail (e) {\r\n        this.setState({ \r\n            email: e.target.value\r\n        })\r\n    }\r\n\r\n    onChangePass (e) {\r\n        this.setState({\r\n            password: e.target.value\r\n         })\r\n    }\r\n\r\n    send = event => {\r\n        if (this.state.email.length === 0) {\r\n            localStorage.setItem('text', \"email invalid\"); this.setState({\r\n                ...this.state\r\n            });\r\n            window.location = \"/connexion\"\r\n            return;\r\n        }\r\n        if (this.state.password.length === 0) {\r\n            localStorage.setItem('text', \"pass invalid\");this.setState({\r\n                ...this.state\r\n            });\r\n            window.location = \"/connexion\"\r\n            return;\r\n        }\r\n\r\n        API.login(this.state.email, this.state.password).then(function (data) {\r\n            console.log(\"hahaha\",data.data)\r\n\r\n            localStorage.setItem(\"token\",data.data.token)\r\n            API.decrypt().then((data)=>{\r\n                localStorage.setItem(\"id\",data.data.id)\r\n                localStorage.setItem(\"email\",data.data.email)\r\n                localStorage.setItem(\"username\",data.data.username)\r\n                localStorage.setItem(\"name\",data.data.name)\r\n\r\n            })\r\n\r\n\r\n\r\n\r\n            //window.location = \"/dashboard\"\r\n        }, function (error ) {\r\n            console.log(\"hahaha\",error.data)\r\n        });\r\n\r\n\r\n        this.setState({\r\n            ...this.state\r\n        });\r\n        ///console.log(error);\r\n        //  window.location = \"/\";\r\n        return  ;\r\n\r\n    }\r\n\r\n    onSubmit (e) {\r\n        e.preventDefault()\r\n\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            \r\n            <section className=\"Compte\">\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6 mt-5 mx-auto\">\r\n                        <form noValidate onSubmit={this.onSubmit}>\r\n                            <h1 className=\"h1\">Connectez vous</h1>\r\n\r\n\r\n\r\n                            <div>\r\n                                <label htmlFor=\"email\">Email</label>\r\n                                <input type=\"email\"\r\n                                    className=\"form-control\"\r\n                                    name=\"email\"\r\n                                    placeholder=\" E-mail\"\r\n                                    value={this.state.email}\r\n                                    onChange={this.onChangeMail} />\r\n                            </div>\r\n                            <div className=\"form-group col-md-12 mt-5\">\r\n                                <label htmlFor=\"password\">Mot de passe</label>\r\n                                <input type=\"password\"\r\n                                    className=\"form-control\"\r\n                                    name=\"password\"\r\n                                    placeholder=\"Mot de passe\"\r\n                                    value={this.state.password}\r\n                                    onChange={this.onChangePass} />\r\n                            </div>\r\n                            <div className=\"createAccount\">\r\n\r\n                                <Link to=\"/\">\r\n                                <button type=\"submit\" onClick={this.send} className=\"MyButtom\">Authentification</button>\r\n                                </Link>\r\n                                \r\n                                \r\n                                <Link to=\"/RecupPass\" className=\"small-connexion\">\r\n                                <small className=\"small-connexion\">Mot de pass oublié ?</small>\r\n                                </Link>\r\n\r\n                                <Link to=\"/CreerCompte\" className=\"small-connexion\">\r\n                                <small className=\"small-connexion\">Créer un Compte</small>\r\n                                </Link>\r\n\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </section>\r\n           \r\n        )\r\n    }\r\n\r\n\r\n\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}